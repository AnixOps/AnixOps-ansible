# AnixOps Ansible Environment Variables
# 复制此文件为 .env 并填入真实 IP 地址
# .env 文件不会被提交到 Git (已加入 .gitignore)

# ===========================================
# 服务器 IP 配置
# ===========================================
# 格式: SERVER_NAME_V4=IPv4地址/掩码
#       SERVER_NAME_V6=IPv6地址/掩码
#       SERVER_NAME_SSH_IP=SSH连接IP（可选，仅非/31或/127段需要）
#
# 说明：
# - /31 (IPv4) 或 /127 (IPv6) 段：点对点连接，直接使用该IP
# - 其他网段：必须设置 _SSH_IP 变量指定SSH连接地址

# 美国西部服务器 1 (点对点，直接连接)
US_W_1_V4=203.0.113.10/31
US_W_1_V6=2001:db8::1/127
# US_W_1_SSH_IP=  # /31段不需要

# 美国西部服务器 2 (其他网段，需要SSH IP)
US_W_2_V4=10.0.1.100/24
US_W_2_V6=2001:db8:100::1/64
US_W_2_SSH_IP=203.0.113.20  # 必需：SSH连接IP（公网IP或网关）

# 美国东部服务器
US_E_1_V4=203.0.113.30/31
US_E_1_V6=2001:db8::3/127

# 日本服务器 (内网段示例)
JP_1_V4=10.10.0.50/27
JP_1_V6=2001:db8:200::1/120
JP_1_SSH_IP=45.76.123.45  # 必需：SSH连接IP

# 欧洲服务器
EU_1_V4=203.0.113.50/31
EU_1_V6=2001:db8::5/127

# ===========================================
# Ansible 连接配置
# ===========================================
ANSIBLE_USER=root
ANSIBLE_PORT=22
SSH_KEY_PATH=~/.ssh/id_rsa

# ===========================================
# 可观测性配置 (可选)
# ===========================================
# 基础配置
PROMETHEUS_URL=http://prometheus.example.com:9090
LOKI_URL=http://loki.example.com:3100
GRAFANA_URL=http://grafana.example.com:3000

# SSL/TLS 配置
OBSERVABILITY_SSL_ENABLED=false              # 是否启用 SSL (true/false)
OBSERVABILITY_SSL_METHOD=custom              # SSL 证书方式: custom (自定义证书) 或 acme (Let's Encrypt)

# 域名配置 (启用 SSL 时必需)
GRAFANA_DOMAIN=grafana.example.com
PROMETHEUS_DOMAIN=prometheus.example.com
LOKI_DOMAIN=loki.example.com

# 自定义 SSL 证书配置 (SSL_METHOD=custom 时使用)
# PEM 格式，base64 编码。生成方法: cat cert.pem | base64 -w 0
SSL_CERTIFICATE_PEM=                         # SSL 证书内容（base64 编码）
SSL_CERTIFICATE_KEY_PEM=                     # SSL 私钥内容（base64 编码）

# ACME.sh 配置 (SSL_METHOD=acme 时使用)
ACME_EMAIL=admin@example.com                 # Let's Encrypt 通知邮箱
ACME_CA_SERVER=letsencrypt                   # letsencrypt 或 letsencrypt_test (测试环境)

# ===========================================
# Cloudflare 配置 (可选)
# ===========================================
# 用于 SSL 证书获取和 DNS 管理

# 认证方式 1: API Token (推荐)
CLOUDFLARE_API_TOKEN=                        # Cloudflare API Token
CLOUDFLARE_ZONE_ID=                          # Zone ID

# 认证方式 2: Global API Key (备选)
CLOUDFLARE_EMAIL=                            # Cloudflare 账户邮箱
CLOUDFLARE_API_KEY=                          # Global API Key

# DNS 配置
CLOUDFLARE_BASE_DOMAIN=example.com           # 基础域名

# ===========================================
# Grafana 认证配置 (可选)
# ===========================================
# 如果不配置，将使用默认值 admin/admin
GRAFANA_ADMIN_USER=admin                     # Grafana 管理员用户名
GRAFANA_ADMIN_PASSWORD=                      # Grafana 管理员密码 (留空则为 admin)

# ===========================================
# 防火墙白名单配置 (可选)
# ===========================================
# 允许访问可观测性服务端口 (9090, 3100, 3000, 9100) 的 IP 地址
# 多个 IP 用逗号分隔，例如: 1.2.3.4,5.6.7.8
# 留空则只允许本地 (127.0.0.1) 访问
# 使用 'any' 允许所有 IP（不推荐生产环境）
OBSERVABILITY_WHITELIST_IPS=                 # 白名单 IP 列表
