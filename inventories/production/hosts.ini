# =============================================================================
# Production Inventory (Remote K8s Cluster)
# =============================================================================
# 生产环境远程服务器配置 | Production environment remote server configuration
# =============================================================================

[k8s_production]
# 替换为你的生产服务器 IP | Replace with your production server IP
prod-k8s-master ansible_host=YOUR_PRODUCTION_SERVER_IP

[k8s_production:vars]
# 环境标识 | Environment identifier
environment=production

# SSH 连接配置 | SSH connection configuration
ansible_user=root
ansible_ssh_private_key_file=~/.ssh/id_rsa
ansible_port=22

# K8s 部署类型 | K8s deployment type
k8s_provider=k3s

# K3s 配置 | K3s configuration
k3s_version=v1.28.5+k3s1
k3s_server_options="--disable traefik --write-kubeconfig-mode 644"
kubeconfig_path=/etc/rancher/k3s/k3s.yaml

# Cloudflared 配置 | Cloudflared configuration
cloudflared_namespace=cloudflared
cloudflared_release_name=cloudflared
cloudflared_replica_count=2

# Helm chart 配置 | Helm chart configuration
helm_chart_name=cloudflare/cloudflare-tunnel
helm_chart_version=0.3.2

# 可选：使用环境变量 | Optional: Use environment variables
# ansible_host={{ lookup('env', 'PROD_SERVER_IP') }}
# ansible_ssh_private_key_file={{ lookup('env', 'PROD_SSH_KEY_PATH') }}
